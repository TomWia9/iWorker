<div class="container">
    <div class="message">
        <form [formGroup]="form">
            <mat-form-field appearance="outline">
                <mat-label>Message to:</mat-label>
                <mat-select formControlName="worker" (selectionChange)="onChange()">
                    <mat-option *ngFor="let worker of workers" [value]="worker">
                        {{ worker.userID }} | {{ worker.name }} {{ worker.surname }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Enter your message here</mat-label>
                <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="10" formControlName="message"></textarea>
            </mat-form-field>
        </form>
        <p class="err" *ngIf="error">Failed to send message</p>
    </div>

    <div class="actions">
        <button mat-raised-button class="btn" (click)="onSend(form.value.message, form.value.worker.userID)">Send</button>
        <button mat-raised-button class="btn" (click)="onExit()">Exit</button>
    </div>
</div>