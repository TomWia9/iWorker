<mat-card class="container">
    <mat-card-header class="header">
        <mat-card-title>
            <h1>Statystyki</h1>
        </mat-card-title>
    </mat-card-header>
    <mat-card-content class="content">
        <div class="ranking">
            <h2>Top 3 najlepszych pracowników wczoraj</h2>
            <mat-table class="table" [dataSource]="top3">
                <ng-container matColumnDef="position">
                    <mat-header-cell *matHeaderCellDef>Pozycja</mat-header-cell>
                    <mat-cell *matCellDef="let element; let i = index">{{ i+1 }}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="userID">
                    <mat-header-cell *matHeaderCellDef>Numer pracownika</mat-header-cell>
                    <mat-cell *matCellDef="let element">{{ element.userID }}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="name">
                    <mat-header-cell *matHeaderCellDef>Imię</mat-header-cell>
                    <mat-cell *matCellDef="let element">{{ element.name }}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="surname">
                    <mat-header-cell *matHeaderCellDef>Nazwisko</mat-header-cell>
                    <mat-cell *matCellDef="let element">{{ element.surname }}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="ratio">
                    <mat-header-cell *matHeaderCellDef>Wydajność</mat-header-cell>
                    <mat-cell *matCellDef="let element">{{ element.ratio }}</mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns" class="row-hover"></mat-row>
            </mat-table>
            <button mat-raised-button class="btn" [routerLink]="['/admin/ranking']">Wyświetl pełny ranking</button>
        </div>
        <div class="charts">
            <h2>Łączna ilość zbiorów</h2>
            <app-pie-chart *ngIf="wait >=2" [chartData]="chartData" [chartLabels]="chartLabels"></app-pie-chart>
            <!--jeszcze jeden jakis wykres-->
        </div>
        <div class="otherStats">
            <button mat-raised-button class="btn" (click)="onSelectWorker()">Statystyki ze względu na pracownika (ostatni miesiąc)</button>
            <p *ngIf="canShowWorkerStats">{{selected.userID}} | {{selected.name}} {{selected.surname}}</p>
            <app-main-statistics [userID]="selected.userID" [days]="31" *ngIf="canShowWorkerStats"></app-main-statistics>
        </div>
    </mat-card-content>
</mat-card>